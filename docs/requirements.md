# 📌 기능적 요구사항

## 1️⃣ 로그인/회원가입
- 유저는 회원가입을 할 수 있다.
  - 이메일을 입력 필수, 이메일 형식
  - 이메일은 중복 불가
  - 패스워드 입력 필수, 영문 + 숫자 8˜24 글자
- 유저는 회원가입한 정보(이메일, 패스워드)로 로그인을 할 수 있다.
- 유저는 소셜 로그인과 연동 할 수 있다.
- 회원가입 시 이메일 인증을 한다.
_
## 2️⃣ 이벤트
- 이벤트는 포스터, 제목, 장소, 이벤트 정보, 티켓 판매 오픈일, 티켓 판매 마감일을 가진다.
- 이벤트는 하나 이상의 일정을 가진다.
- 이벤트 일정은 공연일, 공연시간을 가진다.
- 이벤트 일정은 1인 최대 예약수를 가진다.
- 이벤트 일정은 하나 이상의 좌석을 가진다.
- 각 이벤트 좌석은 좌석 위치, 등급, 가격을 가진다.
- 회원은 이벤트 및 일정을 조회할 수 있다.

## 3️⃣ 예약
- 회원은 이벤트 좌석을 예약할 수 있고 예약 시 결제 대기 상태가 된다.
- 결제 대기 상태인 좌석은 중복 예약할 수 없다.
- 결제 대기 상태에서 5분동안 미결제 시 배정 취소가 된다.
- 배정이 취소된 좌석은 다시 예약이 가능하다.
- 회원은 자신의 예약 내역을 확인할 수 있다.

## 4️⃣ 결제
- 결제 대기 상태인 예약 건을 대상으로 결제 할 수 있다.
- 결제가 완료 되면 예약 완료 상태가 된다.
- 결제는 외부 PG 플랫폼을 사용하여 결제 가능 하다.

## 5️⃣ 대기열 토큰
- 회원은 이벤트 예약 시 각 이벤트 일정 별 대기열 토큰을 발급받아야 한다.
- 예약 완료 후 대기열 토큰은 만료된다.
- 유저는 대기열 순번과 예상 대기 시간을 조회할 수 있다.

## 6️⃣ 기타
- 예약/결제 실패 시 에러 메시지를 사용자에게 제공한다.

---

# 📌 비기능적 요구사항

## 1️⃣ 동시성 처리
- 한 좌석에 대해 중복 예약이 발생하지 않아야 한다. (트랜잭션, Lock 처리)

## 2️⃣ 가용성
- 서버 장애 시에도 예약/대기열 상태는 보장되어야 한다.
- 서버 가용성은 99.9% 이상이어야 한다. (다운타임: 월 43분 이하)

## 3️⃣ 성능
- API 응답 시간:
    - 95% 구간에서 1초 이하
    - 최악의 경우라도 2초 이하
    - 참고: [API Response Time Standards](https://odown.com/blog/api-response-time-standards/)
- 최대 **50만 명**이 동시에 접속 및 예약할 수 있어야 한다. (타사 서비스 참고)
- 최대 **100만 명**이 대기열에 동시에 접속할 수 있어야 한다. (타사 서비스 참고)

## 4️⃣ 유지보수성
- 모든 기능 및 제약사항에 대해 최소 1개 이상의 테스트를 작성해야 한다.

## 5️⃣ 보안
- 모든 API 요청은 토큰 기반의 인증을 거쳐야 한다.
- 사용자/관리자 권한을 분리하고 예약/결제 API는 사용자는 자신의 것만 요청 가능 하다